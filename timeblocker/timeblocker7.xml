
<Module>
	<ModulePrefs title="TimeBlocker" height="800" author_email="leigh765@me.com">
		<Require feature="google.calendar-0.5"/>
	</ModulePrefs>
	<Content type="html">
		<![CDATA[ 
			
				<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 	
				<html> 
					<head><title>Test</title>
					<script src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
					<script src="https://api.trello.com/1/client.js?key=64fc156c61511f09dc91241c5b4f0be1"></script>
					<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular.min.js"></script> 
					<script src="//rawgit.com/ineedyourbrain/blockologist/gh-pages/timeblocker/app/app.module.js" ></script>
					<script src="//rawgit.com/ineedyourbrain/blockologist/gh-pages/timeblocker/app/authentication/authController.js"></script>
					<script src="//rawgit.com/ineedyourbrain/blockologist/gh-pages/timeblocker/app/ngDraggable-master/ngDraggable.js"></script>
					<style>
						body {
						    font-family: arial;
						    font-size: 12px;
						}

						#loggedout {
						    text-align: center;
						    font-size: 20px;
						    padding-top: 30px;
						}
						#loggedin { 
						    display: none; 
						}

						#header {
						    padding: 4px;
						    border-bottom: 1px solid #000;
						    background: #eee;
						}

						#output {
						    padding: 4px;
						}

						.card { 
						    display: block; 
						    padding: 2px;
						}

					</style>

					</head>
					<body ng-app="timeblocker"> 
						
						
						<!--add a variable for the view-->
						
						<div>
							<div id="loggedout">
							    <a id="connectLink" href="#" ng-click="trelloAuth()">Connect To Trello</a>
							</div>

							<div id="loggedin">
							    <div id="header">
							        Logged in to as <span id="fullName">{{membername}}</span> 
							        <a id="disconnect" href="#" ng-click="trelloDeauth()">Log Out</a>
							    </div>
							    
							    <div id="output"></div>
							</div>   
							<h5>Add a Block</h5>
							
							
						
							<div>
								Board:
								<span  >
								  <select ng-model="board"  ng-change="getcards(board.id)" ng-options="board.name for board in boards">
								    <option value="">-- Choose a board --</option>
								  </select>
								</span><br/>

								Card:
								<span  >
								  <select ng-model="card" ng-options="card.name for card in cards">
								    <option value="">-- Choose a card --</option>
								  </select>
								</span><br/>
								<!---->
								Offering:
								<span  >
								  <select ng-model="offering" ng-options="o.name for o in offerings">
								    <option value="">-- choose offering --</option>
								  </select>
								</span><br/>
							</div>
							<button ng-click="event(board, card)">Add TimeBlock</button>
						</div>
						<div>
							test
							<ul class="draggable-objects">
					            <li  ng-repeat="obj in draggableObjects" >
					                <div ng-drag="true" ng-drag-data="obj" data-allow-transform="true"> {{obj.name}} </div>
					            </li>
					        </ul>

					      <div ng-drop="true" ng-drop-success="onDropComplete1($data,$event)">
					          <span class="title">Drop area #1</span>

					          <div ng-repeat="obj in droppedObjects1" ng-drag="true" ng-drag-data="obj" ng-drag-success="onDragSuccess1($data,$event)" ng-center-anchor="{{centerAnchor}}">
					              {{obj.name}}
					          </div>

					      </div>
						</div>

						
						

												<script>
													angular.module('timeblocker', ['ngDraggable']).
						      						controller('MainCtrl', function ($scope) {
													$scope.centerAnchor = true;
													$scope.toggleCenterAnchor = function () {$scope.centerAnchor = !$scope.centerAnchor}
													$scope.draggableObjects = [{name:'one'}, {name:'two'}, {name:'three'}];
													$scope.droppedObjects1 = [];
													$scope.droppedObjects2= [];
													$scope.onDropComplete1=function(data,evt){
													    var index = $scope.droppedObjects1.indexOf(data);
													    if (index == -1)
													    $scope.droppedObjects1.push(data);
													}
													$scope.onDragSuccess1=function(data,evt){
													    console.log("133","$scope","onDragSuccess1", "", evt);
													    var index = $scope.droppedObjects1.indexOf(data);
													    if (index > -1) {
													        $scope.droppedObjects1.splice(index, 1);
													    }
													}
													$scope.onDragSuccess2=function(data,evt){
													    var index = $scope.droppedObjects2.indexOf(data);
													    if (index > -1) {
													        $scope.droppedObjects2.splice(index, 1);
													    }
													}
													$scope.onDropComplete2=function(data,evt){
													    var index = $scope.droppedObjects2.indexOf(data);
													    if (index == -1) {
													        $scope.droppedObjects2.push(data);
													    }
													}
													var inArray = function(array, obj) {
													    var index = array.indexOf(obj);
													}
												});
												</script>

					
				</body> 
				</html>

		]]>
	</Content>
</Module>

